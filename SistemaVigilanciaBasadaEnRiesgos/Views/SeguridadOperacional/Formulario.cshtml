@model CapaModeloRBS.tbRespuestaLV

@{
    ViewBag.Title = "Formulario";
    Layout = "~/Views/Shared/_Layout.cshtml";
    int indexSubt = 0;
}

<section class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">

            </div>
            <div class="col-sm-6">
                <ol class="breadcrumb float-sm-right">
                    <li class="breadcrumb-item"><a href="@Url.Action("ListaRespuestas", "SeguridadOperacional", new {id = Model.ListaID})">Detalle</a></li>
                    <li class="breadcrumb-item active">Formulario</li>
                </ol>
            </div>
        </div>
    </div><!-- /.container-fluid -->
</section>

<section class="content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-body">
                        @using (Html.BeginForm("Formulario", "ListaVerificacion", FormMethod.Post, new { id = "registerForm", enctype = "multipart/form-data", }))
                        {
                            @Html.HiddenFor(m => m.RespuestaID)
                            @Html.HiddenFor(m => m.ListaID)
                            @Html.HiddenFor(m => m.oOrganizacion.OrganizacionID)
                            @Html.HiddenFor(m => m.oOrganizacion.Nombre)
                            <table class="table table-bordered table-hover ">
                                <tr>
                                    <td class="text-center" style="background-color:#c2bebe">
                                        <h5> SISTEMA REGIONAL DE COOPERACIÓN PARA LA VIGILANCIA DE LA SEGURIDAD OPERACIONAL</h5>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-center" style="background-color:#c2bebe">
                                        <strong>@Model.oListaDeVerificacion.Nombre &nbsp; @Model.oListaDeVerificacion.Descripcion</strong>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="card card-info">
                                            <div class="form-horizontal">
                                                <div class="card-body">
                                                    <div class="form-group row">
                                                        <label for="OrganizacionID" class="col-sm-3 col-form-label col-form-label-sm">Nombre organización de mantenimiento:</label>
                                                        <div class="col-sm-9">
                                                            @if (ViewBag.ListaSelectOrganizacion != null)
                                                            {
                                                                @Html.DropDownListFor(p => p.OrganizacionID, ViewBag.ListaSelectOrganizacion as SelectList, new { @class = "custom-select custom-select-sm" })
                                                            }
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="oOrganizaciones_Direccion" class="col-sm-3 col-form-label col-form-label-sm">Dirección:</label>
                                                        <div class="col-sm-9">
                                                            @Html.TextBoxFor(model => model.oOrganizacion.Direccion, new { @class = "form-control form-control-sm text-uppercase", autocomplete = "off", maxlength = "255" })
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="oOrganizaciones_GerenteResponsable" class="col-sm-3 col-form-label col-form-label-sm">Nombre gerente responsable:</label>
                                                        <div class="col-sm-9">
                                                            @Html.TextBoxFor(model => model.oOrganizacion.GerenteResponsable, new { @class = "form-control form-control-sm text-uppercase", autocomplete = "off", maxlength = "255" })
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="oOrganizaciones_NCertificadoOMA" class="col-sm-3 col-form-label col-form-label-sm">No. certificado OMA:</label>
                                                        <div class="col-sm-9">
                                                            @Html.TextBoxFor(model => model.oOrganizacion.NCertificadoOMA, new { @class = "form-control form-control-sm text-uppercase", autocomplete = "off", maxlength = "60" })
                                                        </div>
                                                    </div>

                                                    <div class="form-group row">
                                                        <label for="FechaInicio" class="col-sm-3 col-form-label col-form-label-sm">Fecha inicio:</label>
                                                        <div class="col-sm-3">
                                                            @Html.TextBoxFor(model => model.FechaInicio, new { @class = "form-control form-control-sm text-uppercase", @type = "date", autocomplete = "off", maxlength = "60" })
                                                        </div>
                                                        <label for="FechaFin" class="col-sm-1 col-form-label col-form-label-sm">Fecha Término:</label>
                                                        <div class="col-sm-3">
                                                            @Html.TextBoxFor(model => model.FechaFin, new { @class = "form-control form-control-sm text-uppercase", @type = "date", autocomplete = "off", maxlength = "60" })
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="oOrganizaciones_Telefono" class="col-sm-3 col-form-label col-form-label-sm">Télefono:</label>
                                                        <div class="col-sm-9">
                                                            @Html.TextBoxFor(model => model.oOrganizacion.Telefono, new { @class = "form-control form-control-sm text-uppercase", autocomplete = "off", maxlength = "40" })
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="oOrganizaciones_Correo" class="col-sm-3 col-form-label col-form-label-sm">Correo electrónico:</label>
                                                        <div class="col-sm-9">
                                                            @Html.TextBoxFor(model => model.oOrganizacion.Correo, new { @class = "form-control form-control-sm", @type = "email", autocomplete = "off", maxlength = "100" })
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="UsuarioID" class="col-sm-3 col-form-label col-form-label-sm">Inspector responsable vigilancia:</label>
                                                        <div class="col-sm-9">
                                                            @if (ViewBag.ListaUsuarios != null)
                                                            {
                                                                @Html.DropDownListFor(p => p.UsuarioID, ViewBag.ListaUsuarios as SelectList, new { @class = "custom-select custom-select-sm" })
                                                            }
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label for="InspectorResponsableID" class="col-sm-3 col-form-label col-form-label-sm">Inspectores:</label>
                                                        <div class="col-sm-9">
                                                            @if (ViewBag.ListaUsuarios != null)
                                                            {
                                                                @Html.DropDownListFor(p => p.InspectorResponsableID, ViewBag.ListaUsuarios as SelectList, new { @class = "custom-select custom-select-sm" })
                                                            }
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-center text-white" style="background-color:#628caa">
                                        <strong>@Model.oListaDeVerificacion.Descripcion</strong>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <table style="width:100%; font-size:12px">
                                            <thead>
                                                <tr class="text-center">
                                                    <th>Referencia</th>
                                                    <th>Pregunta del requisito</th>
                                                    <th>Estado de cumplimiento del requisito</th>
                                                    <th>Orientación para el examen de pruebas o evidencias</th>
                                                    <th>Codificación /Código de peligro</th>
                                                    <th>Estado de implementación / IdR</th>
                                                    <th>Pruebas / Notas / Comentarios</th>
                                                </tr>
                                            </thead>
                                            <tbody>

                                                @foreach (var itemS in Model.oListaDeVerificacion.oSubtitulos)
                                                {
                                                    <tr>
                                                        <td colspan="7" class="text-center text-white" style="background-color:#628caa">
                                                            <strong>@itemS.Nombre.ToUpper()</strong>
                                                        </td>
                                                    </tr>
                                                    foreach (var itemP in Model.oListaDeVerificacion.oSubtitulos[indexSubt].oPreguntas)
                                                    {
                                                        <tr>
                                                            <td class="col-sm-1"><p class="text-center" style="font-size:11px"><strong>@itemP.Referencia</strong></p></td>
                                                            <td class="col-sm-2"><p style="font-size:11px"><strong>@itemP.Descripcion</strong></p></td>
                                                            <td><p class="text-center" style="font-size:11px"><strong>@itemP.Estado</strong></p></td>
                                                            <td colspan="4">
                                                                <div>
                                                                    <table>
                                                                        <tbody>
                                                                            
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    }
                                                    ++indexSubt;
                                                }
                                            </tbody>
                                        </table>
                                    </td>
                                </tr>
                            </table>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

@section scripts{
    <script src="@Url.Content("~/Scripts/Views/Formulario_Crear.js")" type="text/javascript"></script>
}


